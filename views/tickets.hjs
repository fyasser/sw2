<!DOCTYPE html>
<html>
  <head>
     <style>
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 10px;
      text-align: left;
    }
    tr {
      position: relative;
    }
    .action-buttons {
      display: block;
    }
  </style>

    <title>Tickets</title>
    <link rel='stylesheet' href='/styles/bootstrap.min.css' />
    <link rel='stylesheet' href='/styles/style.css' />
    <script src="/js/jquery-2.2.0.min.js" type="text/javascript"></script>
    <script src="/js/bootstrap.min.js" type="text/javascript"></script>
  </head>
  
  <body>
    <script>
  $(document).ready(function() {
    $('.refund-button').click(function() {
      var ticketId = $(this).data('ticket-id');
      var row = $(this).closest('tr');
      $.ajax({
        url: "/api/v1/refund/:ticketId",
        type: 'POST',
        data: { ticketId: ticketId },
        success: function(response) {
          // Handle success response
          console.log(response);
          row.remove(); // Remove the table row from the DOM
        },
        error: function(xhr, status, error) {
          // Handle error response
          console.log(error);
        }
      });
    });
  });
</script>

    <div>
    <div>
    <nav class="navbar navbar-inverse" style="padding-left:130px;">
      <ul class="nav navbar-nav">
        <li><a href="/dashboard">Home</a></li>
        <li><a href="/stations_example">Stations</a></li>
        <li class="active"><a href="/users">Users</a></li>
        <li><a href="/users/add">Add Users</a></li>
        <li><a href="/">Logout</a></li> 
        <li><a href="/tickets">Tickets</a></li>

      </ul>
  </nav>
  </div>
    <br/>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">id</th>
            <th scope="col">origin</th>
            <th scope="col">destination</th>
            <th scope="col">userid</th>
            <th scope="col">subiD</th>
            <th scope="col">tripdate</th>
           <th scope="col">Action</th>


          </tr>
          {{#tickets}}
           <tr>
            <td>{{id}}</td>
             <td>{{origin}}</td>
            <td>{{destination}}</td>
            <td>{{userid}}</td>
            <td>{{subiD}}</td>
            <td>{{tripdate}}</td>
             <td>
               <button class="btn btn-danger refund-button" data-ticket-id="{{id}}">Refund</button>
            </td>
          </tr>
          {{/tickets}}
        </thead>
      </table>
    </div>
  </body>
  </html>
